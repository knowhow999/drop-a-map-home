/* =========================================================
   Drop-a-Map — PaperMod 전용 커스텀 스타일 (최종판)
   - 라이트/다크 완전 대응
   - 본문 색/불투명도 강제 보정
   - 스크린샷 슬라이더
   - Netlify Form 가시화 + 기본 스타일
   ========================================================= */

/* ========== 브랜드 / 컬러 변수 ========== */
:root{
  --brand-blue:#1473E6;      /* Adobe Express blue */
  --text:#222;               /* 본문 */
  --text-strong:#000;        /* 강조 */
  --muted:#666;
  --bg:#fff;

  --text-dark:#E6E6E6;       /* 다크 본문 */
  --text-strong-dark:#fff;   /* 다크 제목/강조 */
  --muted-dark:#B5B5B5;
  --bg-dark:#0E0E0E;

  --border:#E5E7EB;          /* 입력창 테두리 */
  --border-dark:#2A2A2A;
}

/* ========== 기본 타이포그래피 ========== */
body{
  font-family:"Inter","Noto Sans KR",-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  font-size:1.05rem;
  line-height:1.75;
  color:var(--text);
  background:var(--bg);
}

main{max-width:960px;margin:40px auto;padding:0 16px;}

h1,h2,h3,h4{color:#111;line-height:1.3;font-weight:700;}
h1{font-size:2rem;margin-bottom:.6em;}
h2{font-size:1.6rem;margin:1.6em 0 .6em;}
h3{font-size:1.25rem;margin:1.4em 0 .5em;}
h4{font-size:1.1rem;margin:1.2em 0 .4em;}

.content-body{color:var(--text);}
.content-body p{margin:0 0 1.2em 0;color:var(--text);}
.content-body strong{color:var(--text-strong);font-weight:700;}

.content-body ul,.content-body ol{margin:0 0 1.2em 1.5em;line-height:1.7;}
.content-body li{color:var(--text);}

/* 링크/인용문 */
.content-body a{
  color:var(--brand-blue);
  text-decoration:none;
  border-bottom:1px solid rgba(20,115,230,.35);
  transition:color .2s,border-color .2s;
}
.content-body a:hover{color:#0F5EC0;border-color:rgba(20,115,230,.55);}

.content-body blockquote{
  border-left:4px solid #DDD;
  padding-left:12px;
  color:#555;
  margin:1.4em 0;
  font-style:italic;
}

/* ========== 스크린샷 슬라이더 ========== */
.screenshot-slider{
  display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;
  padding-bottom:12px;margin-top:1em;
}
.screenshot-slider figure{flex:0 0 auto;width:180px;scroll-snap-align:center;margin:0;}
.screenshot-slider img{
  width:100%;height:120px;object-fit:cover;border-radius:10px;
  box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease;
}
.screenshot-slider img:hover{transform:scale(1.05);}

/* ========== 버튼(마켓플레이스 등) ========== */
.footer-button{
  display:inline-block;padding:12px 20px;border-radius:10px;
  background:#111;color:#fff;text-decoration:none;transition:background .2s,color .2s;
}
.footer-button:hover{background:var(--brand-blue);color:#fff;}

/* ========== Netlify Forms: 가시화 + 기본 스타일 ========== */
/* 폼 요소가 테마 스타일에 의해 숨겨지지 않도록 강제 표시 */
form input,
form textarea,
form button,
form select {
  display:block !important;
  visibility:visible !important;
}

/* 기본 폼 스타일 */
.content-body form{margin:1.25rem 0;}
.content-body form p{margin:0 0 1rem 0;}

.content-body form label{
  font-weight:600;
  color:var(--text);
  display:block;
  margin:0 0 .35rem 0;
}

.content-body form input[type="text"],
.content-body form input[type="email"],
.content-body form input[type="url"],
.content-body form input[type="search"],
.content-body form input[type="tel"],
.content-body form select,
.content-body form textarea{
  width:100%;
  padding:.75rem .85rem;
  border:1px solid var(--border);
  border-radius:.6rem;
  background:#fff;
  color:#111;
  outline:none;
  transition:border-color .15s, box-shadow .15s, background .15s;
  box-shadow:0 0 0 0 rgba(20,115,230,0);
}

.content-body form textarea{min-height:160px;resize:vertical;}

.content-body form input:focus,
.content-body form textarea:focus,
.content-body form select:focus{
  border-color:var(--brand-blue);
  box-shadow:0 0 0 3px rgba(20,115,230,.15);
}

.content-body form button[type="submit"],
.content-body form .button{
  appearance:none;
  border:0;
  background:var(--brand-blue);
  color:#fff;
  font-weight:700;
  padding:.8rem 1.1rem;
  border-radius:.6rem;
  cursor:pointer;
  transition:transform .06s ease, filter .15s ease;
}
.content-body form button[type="submit"]:hover{filter:brightness(1.05);}
.content-body form button[type="submit"]:active{transform:translateY(1px);}

/* Netlify honeypot 필드 숨김 */
form [name="bot-field"]{display:none !important;}

/* 성공/에러 메시지(선택) */
.form-note{font-size:.95rem;color:var(--muted);margin-top:.5rem;}
.form-error{color:#D14343;}
.form-success{color:#0A7F3F;}

/* ========== 반응형 ========== */
@media (max-width:768px){
  h1{font-size:1.6rem;}
  h2{font-size:1.4rem;}
  .screenshot-slider figure{width:140px;}
  .screenshot-slider img{height:100px;}
}

/* =========================================================
   다크모드 — PaperMod body.dark / html.dark / [data-theme="dark"]
   ========================================================= */
@media (prefers-color-scheme:dark){
  /* 배경/기본 텍스트 */
  html.dark body, body.dark, [data-theme="dark"] body{
    background:var(--bg-dark)!important;
    color:var(--text-dark)!important;
  }

  /* 본문 컨테이너 */
  html.dark .content-body, body.dark .content-body, [data-theme="dark"] .content-body{
    color:var(--text-dark)!important;
  }

  /* 문단/리스트 — 핵심 보정 */
  html.dark .content-body p,
  html.dark .content-body li,
  body.dark .content-body p,
  body.dark .content-body li,
  [data-theme="dark"] .content-body p,
  [data-theme="dark"] .content-body li{
    color:var(--text-dark)!important;
    opacity:1!important;
    -webkit-text-fill-color:var(--text-dark)!important; /* Safari */
  }

  /* 제목/강조 */
  html.dark h1,html.dark h2,html.dark h3,html.dark h4,
  body.dark h1,body.dark h2,body.dark h3,body.dark h4,
  [data-theme="dark"] h1,[data-theme="dark"] h2,[data-theme="dark"] h3,[data-theme="dark"] h4{
    color:var(--text-strong-dark)!important;
  }
  html.dark .content-body strong, body.dark .content-body strong, [data-theme="dark"] .content-body strong{
    color:var(--text-strong-dark)!important; opacity:1!important;
  }

  /* 링크/인용문/그림자 */
  html.dark .content-body a, body.dark .content-body a, [data-theme="dark"] .content-body a{
    color:#79C0FF!important; border-bottom-color:rgba(121,192,255,.5)!important; opacity:1!important;
  }
  html.dark .content-body blockquote, body.dark .content-body blockquote, [data-theme="dark"] .content-body blockquote{
    border-left-color:#444!important; color:#AAA!important;
  }
  .screenshot-slider img{box-shadow:0 2px 8px rgba(255,255,255,.08);}
  .footer-button{background:#EAEAEA;color:#111;}
  .footer-button:hover{background:#79C0FF;color:#111;}

  /* 폼 다크 모드 */
  .content-body form input[type="text"],
  .content-body form input[type="email"],
  .content-body form input[type="url"],
  .content-body form input[type="search"],
  .content-body form input[type="tel"],
  .content-body form select,
  .content-body form textarea{
    background:#121212;
    color:var(--text-dark);
    border-color:var(--border-dark);
  }
}

/* =========================================================
   최후 보정(특정 요소가 여전히 연하면 아래 주석 해제)
   ========================================================= */
/*
@media (prefers-color-scheme:dark){
  html.dark .content-body *, body.dark .content-body *, [data-theme="dark"] .content-body *{
    color:var(--text-dark)!important; opacity:1!important;
    -webkit-text-fill-color:var(--text-dark)!important;
  }
}
*/
